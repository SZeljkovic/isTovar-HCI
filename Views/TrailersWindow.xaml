<Window x:Class="Projekat_B_isTovar.Views.TrailersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Projekat_B_isTovar.Resources"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="{Binding TrailersTitle}" Height="768" Width="1024"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource BackgroundColor}">

    <Window.Resources>
        <local:TrailersStrings x:Key="Strings"/>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Naslov -->
        <TextBlock Text="{Binding Source={StaticResource Strings}, Path=TrailersTitle}" 
                   FontSize="22" FontWeight="Bold" 
                   Margin="0,0,0,10"
                   Foreground="{DynamicResource PrimaryColor}"/>

        <!-- TabControl -->
        <TabControl Grid.Row="1">
            <!-- Tab 1: Lista prikolica -->
            <TabItem Header="{Binding Source={StaticResource Strings}, Path=TabList}">
                <StackPanel>
                    <DataGrid x:Name="TrailersDataGrid" 
                              Margin="10"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              HeadersVisibility="Column"
                              AlternatingRowBackground="{DynamicResource AlternatingRowBackgroundBrush}"
                              RowBackground="{DynamicResource RowBackgroundBrush}"
                              Foreground="{DynamicResource PrimaryColor}"
                              GridLinesVisibility="All">

                        <DataGrid.Columns>
                            <DataGridTextColumn Header="{Binding Source={StaticResource Strings}, Path=Id}" Binding="{Binding IdPrikolice}" Width="60"/>
                            <DataGridTextColumn Header="{Binding Source={StaticResource Strings}, Path=ColumnKind}" Binding="{Binding Vrsta}" Width="150"/>
                            <DataGridTextColumn Header="{Binding Source={StaticResource Strings}, Path=ColumnCapacity}" Binding="{Binding Nosivost}" Width="120"/>
                            <DataGridTextColumn Header="{Binding Source={StaticResource Strings}, Path=ColumnProductionYear}" Binding="{Binding GodinaProizvodnje}" Width="150"/>
                            <DataGridTextColumn Header="{Binding Source={StaticResource Strings}, Path=ColumnLicensePlate}" Binding="{Binding RegistarskaOznaka}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Dugmad za akcije -->
                    <StackPanel Orientation="Horizontal" Margin="10,5">
                        <Button Content="{Binding Source={StaticResource Strings}, Path=EditButton}"
                                Width="100" Margin="5"
                                Background="{DynamicResource PrimaryColor}"
                                Click="EditTrailer_Click"/>
                        <Button Content="{Binding Source={StaticResource Strings}, Path=DeleteButton}"
                                Width="100" Margin="5"
                                Background="{DynamicResource PrimaryColor}"
                                Click="DeleteTrailer_Click"/>
                    </StackPanel>

                    <!-- Panel za izmjenu -->
                    <GroupBox Header="{Binding Source={StaticResource Strings}, Path=EditTrailer}" Margin="10" x:Name="EditPanel" Visibility="Collapsed">
                        <StackPanel Margin="10" Width="400">
                            <TextBox x:Name="editKind"
                                     materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnKind}"
                                     Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                            <TextBox x:Name="editCapacity"
                                     materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnCapacity}"
                                     Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                            <TextBox x:Name="editYear"
                                     materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnProductionYear}"
                                     Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                            <TextBox x:Name="editPlate"
                                     materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnLicensePlate}"
                                     Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                            <Button Content="{Binding Source={StaticResource Strings}, Path=SaveButton}"
                                    Width="120" Height="30"
                                    Margin="0,15,0,0"
                                    HorizontalAlignment="Left"
                                    Background="{DynamicResource PrimaryColor}"
                                    Click="UpdateTrailer_Click"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </TabItem>

            <!-- Tab 2: Dodavanje prikolice -->
            <TabItem Header="{Binding Source={StaticResource Strings}, Path=TabAdd}">
                <StackPanel Margin="15" VerticalAlignment="Top" Width="400">
                    <TextBlock Text="{Binding Source={StaticResource Strings}, Path=AddNewTrailer}" 
                               FontSize="18" 
                               FontWeight="SemiBold" 
                               Foreground="{DynamicResource PrimaryColor}" 
                               Margin="0,0,0,10"/>

                    <TextBox x:Name="txtKind"
                             materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnKind}"
                             Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                    <TextBox x:Name="txtCapacity"
                             materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnCapacity}"
                             Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                    <TextBox x:Name="txtYear"
                             materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnProductionYear}"
                             Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>
                    <TextBox x:Name="txtPlate"
                             materialDesign:HintAssist.Hint="{Binding Source={StaticResource Strings}, Path=ColumnLicensePlate}"
                             Foreground="{DynamicResource PrimaryColor}" Margin="0,5"/>

                    <Button Content="{Binding Source={StaticResource Strings}, Path=SaveButton}"
                            Width="120" Height="30"
                            Margin="0,15,0,0"
                            HorizontalAlignment="Left"
                            Background="{DynamicResource PrimaryColor}"
                            Click="SaveTrailer_Click"/>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Dugme za zatvaranje -->
        <Button Content="{Binding Source={StaticResource Strings}, Path=CloseButton}" 
                Grid.Row="2"
                Width="100" Height="30"
                Margin="0,10,0,0"
                HorizontalAlignment="Right"
                Background="{DynamicResource PrimaryColor}"
                Click="CloseButton_Click"/>
    </Grid>
</Window>
